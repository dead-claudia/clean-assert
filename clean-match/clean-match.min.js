/**
 * @license
 * clean-match
 *
 * A simple, fast ES2015+ aware deep matching utility.
 *
 * Copyright (c) 2016 and later, Isiah Meadows <me@isiahmeadows.com>.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
 * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
 * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
 * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 * PERFORMANCE OF THIS SOFTWARE.
 */
!function(r,e){"object"==typeof exports&&null!=exports?e(r,exports):"function"==typeof define?define("clean-match",["exports"],function(t){e(r,t)}):e(r,r.match={})}("object"==typeof global&&null!==global?global:"object"==typeof self&&null!==self?self:"object"==typeof window&&null!==window?window:this,function(r,e){"use strict";function t(r){if(U===S&&P(r))return!0;if(U===R&&r._isBuffer)return!0;var e=r.constructor;return!!E(e)&&(!!E(e.isBuffer)&&e.isBuffer(r))}function n(r,e){switch(e){case"line":if("number"!=typeof r.line)return!1;break;case"sourceURL":if("string"!=typeof r.sourceURL)return!1;break;case"stack":if("string"!=typeof r.stack)return!1;break;default:return!1}var t=Object.getOwnPropertyDescriptor(r,e);return!t.configurable&&t.enumerable&&!t.writable}function f(r){for(var e=Object.keys(r),t=0,f=0;f<e.length;f++)n(r,e[f])||(e[t++]=e[f]);return e.length=t,e}function o(r,e){return r===e||r!==r&&e!==e}function i(r,e){var t=r.length;if(t!==e.length)return!1;for(;t;)if(t--,!o(r[t],e[t]))return!1;return!0}function u(r){for(var e=new Array(r.size),t=0,n=r.keys(),f=n.next();!f.done;f=n.next())e[t++]=f.value;return e}function c(r,e,t,n,f,o,i){for(var u=t+1;u<n;u++){var c=e[u];if(h(r,c,f,o,i)){for(;u>t;)e[u]=e[--u];return e[u]=c,!0}}return!1}function a(r,e,t,n,f,o,i,u){for(var c=0;c<f;c++)if(!h(r.get(t[c]),e.get(n[c]),o,i,u))return!1;return!0}function l(r,e,t,n,f){for(var o=r.size,i=u(r),l=u(e),s=0;s!==o&&h(i[s],l[s],t,n,f);)s++;if(s===o)return a(r,e,i,l,o,t,n,f);if(!c(l[s],i,s,o,t,n,f))return!1;for(;++s<o;){var y=l[s];if(!h(y,i[s],t,n,f)&&!c(y,i,s,o,t,n,f))return!1}return a(r,e,i,l,o,t,n,f)}function s(r,e){for(var t=0;t<r.length;t++)if(!e.has(r[t]))return!1;return!0}function y(r,e,t,n,f){for(var o in e)if(B.call(e,o)&&h(r,e[o],t,n,f))return delete e[o],!0;return!1}function b(r,e){return"object"==typeof r&&null!==r||!(e&M)&&"symbol"==typeof r}function g(r,e,t,n,f){var o=u(r);if(s(o,e))return!0;for(var i,c=e.values(),a=0,l=c.next();!l.done;l=c.next()){var g=l.value;b(g,t)&&(0===a&&(i=Object.create(null)),i[a++]=g)}if(0===a)return!1;for(var p=0;p<a;p++){var j=o[p];if(b(j,t)&&!y(j,i,t,n,f))return!1}return!0}function p(r,e){return!(r.source!==e.source||r.global!==e.global||r.ignoreCase!==e.ignoreCase||r.multiline!==e.multiline||k&&r.unicode!==e.unicode||x&&r.sticky!==e.sticky)}function j(r,e,t,n,f){if(t&D)return m(r,e,t&~D,[r],[e]);var o=n.indexOf(r),i=f.indexOf(e);if(o!==i)return!1;if(o>=0)return!0;n.push(r),f.push(e);var u=m(r,e,t,n,f);return n.pop(),f.pop(),u}function v(r,e,n,f,o){if(V&&r instanceof Symbol)return!(n&M)&&r.toString()===e.toString();if(r instanceof RegExp)return p(r,e);if(r instanceof Date)return r.valueOf()===e.valueOf();if(T!==C){if(r instanceof DataView)return i(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength));if(r instanceof ArrayBuffer)return i(new Uint8Array(r),new Uint8Array(e));if(_(r))return i(r,e)}if(t(r))return i(r,e);if(Array.isArray(r)){if(r.length!==e.length)return!1;if(0===r.length)return!0}else if(q&&r instanceof Map){if(r.size!==e.size)return!1;if(0===r.size)return!0}else if(H&&r instanceof Set){if(r.size!==e.size)return!1;if(0===r.size)return!0}else if("[object Arguments]"===d.call(r)){if("[object Arguments]"!==d.call(e))return!1;if(r.length!==e.length)return!1;if(0===r.length)return!0}else if("[object Arguments]"===d.call(e))return!1;return j(r,e,n,f,o)}function A(r,e,t,n,f){if(V&&(r instanceof Symbol||e instanceof Symbol))return!1;if(t&M)return!1;if(T!==C){if(r instanceof ArrayBuffer||e instanceof ArrayBuffer)return!1;if(_(r)||_(e))return!1}if(Array.isArray(r)||Array.isArray(e))return!1;if(q&&(r instanceof Map||e instanceof Map))return!1;if(H&&(r instanceof Set||e instanceof Set))return!1;if("[object Arguments]"===d.call(r)){if("[object Arguments]"!==d.call(e))return!1;if(r.length!==e.length)return!1;if(0===r.length)return!0}return"[object Arguments]"!==d.call(e)&&j(r,e,t,n,f)}function h(r,e,t,n,f){return r===e||(r!==r?e!==e:null!==r&&null!==e&&("symbol"==typeof r&&"symbol"==typeof e?!(t&M)&&r.toString()===e.toString():"object"==typeof r&&"object"==typeof e&&(Object.getPrototypeOf(r)===Object.getPrototypeOf(e)?v(r,e,t|L,n,f):A(r,e,t,n,f))))}function w(r,e,t,n,f){for(var o=0;o<r.length;o++)if(!h(r[o],e[o],t,n,f))return!1;return!0}function O(r){for(;null!=r;){if(K[d.call(r)])return!0;r=Object.getPrototypeOf(r)}return!1}function m(r,e,t,n,o){var i,u,c=!1;if(t&L){if(Array.isArray(r))return w(r,e,t,n,o);if(q&&r instanceof Map)return l(r,e,t,n,o);if(H&&r instanceof Set)return g(r,e,t,n,o);if("[object Arguments]"===d.call(r))return w(r,e,t,n,o);F&&(J?O(r):r instanceof Error)?(i=f(r),u=f(e)):(i=Object.keys(r),u=Object.keys(e),c=r instanceof Error)}else{if("[object Arguments]"===d.call(r))return w(r,e,t,n,o);if(J?O(r):r instanceof Error)return!1;i=Object.keys(r),u=Object.keys(e)}var a=i.length;if(a!==u.length)return!1;if(0===a)return!0;var s;if(c){for(s=0;s<a;s++)if("stack"!==i[s]&&!B.call(e,i[s]))return!1;for(s=0;s<a;s++)if("stack"!==i[s]&&!h(r[i[s]],e[i[s]],t,n,o))return!1}else{for(s=0;s<a;s++)if(!B.call(e,i[s]))return!1;for(s=0;s<a;s++)if(!h(r[i[s]],e[i[s]],t,n,o))return!1}return!0}var d=Object.prototype.toString,B=Object.prototype.hasOwnProperty,k=B.call(RegExp.prototype,"unicode"),x=B.call(RegExp.prototype,"sticky"),E=function(){function e(r){if(null==r)return!1;var e=d.call(r);return"[object Function]"===e||"[object GeneratorFunction]"===e||"[object AsyncFunction]"===e||"[object Proxy]"===e}function t(r){return null!=r&&"function"!=typeof r}return t(r.Proxy)?e:t(r.Int8Array)?e:"function"==typeof/x/?e:function(r){return"function"==typeof r}}(),S=0,z=1,R=2,U=function(){function e(){}return e.isBuffer=function(){return!0},(new e).constructor!==e?R:E(r.Buffer)&&E(r.Buffer.isBuffer)?r.Buffer.isBuffer(new e)?z:S:z}(),P=U===S?r.Buffer.isBuffer:void 0,V=E(r.Symbol)&&"object"==typeof Symbol(),M=1,D=2,L=4;e.loose=function(r,e){return h(r,e,D,void 0,void 0)},e.strict=function(r,e){return h(r,e,M|D,void 0,void 0)};var F=function(){var r=new Error,e=Object.create(null);Object.keys(r).forEach(function(r){e[r]=!0});try{throw r}catch(r){}return Object.keys(r).some(function(r){return!e[r]})}(),C=0,I=1,G=2,T=function(){return E(r.Uint8Array)&&E(r.DataView)&&E(r.ArrayBuffer)?E(r.ArrayBuffer.isView)?G:E(r.ArrayBufferView)?I:C:C}(),_=function(){if(T!==C)return T===G?ArrayBuffer.isView:function(r){return r instanceof ArrayBufferView}}(),q=E(r.Map),H=E(r.Set),J=function(){return null!=r.window&&null!=r.window.navigator&&/slimerjs|phantomjs/i.test(r.window.navigator.userAgent)}(),K={"[object Error]":!0,"[object EvalError]":!0,"[object RangeError]":!0,"[object ReferenceError]":!0,"[object SyntaxError]":!0,"[object TypeError]":!0,"[object URIError]":!0}});
